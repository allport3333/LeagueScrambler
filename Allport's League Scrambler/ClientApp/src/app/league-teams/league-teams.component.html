<div *ngIf="loading" style="text-align: center;">
    <p>Loading teams & players...</p>
    <mat-spinner diameter="50"></mat-spinner>
</div>

<!-- If teams are loaded and not empty -->
<div *ngIf="!loading && teams.length > 0" style="padding: 16px; overflow-x: hidden;">
    <div style="
      display: flex;
      flex-wrap: wrap;
      justify-content: space-evenly;
      gap: 20px;
    ">
        <!-- Repeat a card for each team -->
        <mat-card *ngFor="let team of teams"
                  style="
        flex: 1 1 calc(25% - 20px);
        min-width: 250px;
        max-width: 300px;
        margin-bottom: 20px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        border-radius: 8px;
        transition: transform 0.2s, box-shadow 0.2s;
      "
                  (mouseenter)="team.hovered = true"
                  (mouseleave)="team.hovered = false"
                  [ngStyle]="{
        transform: team.hovered ? 'scale(1.03)' : 'scale(1)',
        boxShadow: team.hovered ? '0 4px 12px rgba(0, 0, 0, 0.3)' : '0 2px 6px rgba(0, 0, 0, 0.2)'
      }">
            <mat-card-header>
                <mat-card-title>{{ team.teamName }}</mat-card-title>
                <mat-card-subtitle>
                    Wins: {{ team.totalWins }} | Losses: {{ team.totalLosses }}
                </mat-card-subtitle>
            </mat-card-header>

            <mat-card-content>
                <ul style="list-style-type: none; padding: 0; margin: 0;">
                    <li *ngFor="let player of team.players"
                        [ngStyle]="{
              'background-color': player.backgroundColor,
              'padding': '6px 10px',
              'border-radius': '4px',
              'margin-bottom': '6px',
              'display': 'block',
              'text-align': 'center'
            }">
                        {{ player.fullName }}
                    </li>
                </ul>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<!-- If teams are loaded but empty -->
<div *ngIf="!loading && teams.length === 0" style="text-align: center;">
    <p>No teams found for this league.</p>
</div>
